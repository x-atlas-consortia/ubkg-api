services:
  
  ubkg-front-end:
    build:
      # Set the build context for the Dockerfile to allow copying of files from ubkg-api source.
      context: ./ubkg-api
    # Build the image with name and tag
    # Exit with an error message containing err if unset or empty in the environment
    image: ubkg-front-end:${UBKG_API_VERSION:?err}
    volumes:  
      # Mount the VERSION file and BUILD file 
      - "../VERSION:/usr/src/app/VERSION" 
      - "../BUILD:/usr/src/app/BUILD" 
      # Mount the source code to container  
      - "../src:/usr/src/app/src"
